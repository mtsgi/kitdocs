# App.dataメソッド

[kit-bind属性](/kit-bind)を使って紐付けられたデータを取得・変更するためのメソッドです。

## 書式

```javascript
App.data( pid[, key[, value]] )
```

- **pid**
  - データを取得したい対象のプロセスIDです。
- **key**(省略可能)
  - データを取得したいキーです。省略した場合、指定されたプロセスのデータ全体をオブジェクトとして返します。
- **value**(省略可能)
  - 指定したキーの値を変更します。省略した場合、指定されたキーの値が返り値として渡されます。

## 説明

[kit-bind属性](/kit-bind)を使ってデータの紐付けが行われると、入力された値は`App.d`というオブジェクトに格納されます。このオブジェクトから指定したプロセスのデータを取得し返り値として持つのがこの`App.data`というメソッドです。

App.dの内容は以下のような単純なJavaScriptのオブジェクトになっています。

```javascript
{
    "0": {
        "foo": "1234",
        "bar": "3456",
        "baz": "5678"
    }
    ...
}
```


## 例

先述の通り、このメソッドには3つの使い方があります。まず、プロセス全体のデータを取得する方法。

```javascript
App.data(_pid)
```
このようにすると`_pid`というプロセスIDを持つプロセスのデータ全体をオブジェクトとして受け取ることができます。

次に、第2引数まで渡すと、特定のキーの値のみを取得することができます。

```javascript
App.data(_pid, 'foo')
```
つまり、以下の3つは等価であるということです。

```javascript
App.data(_pid).foo == App.data(_pid, 'foo') == App.data(_pid)['foo']
```
いずれもプロセスID`_pid`の`foo`というデータを取得しています。

最後に、第3引数まで入力すると、データの中身を直接書き換えます。このとき、`kit-bind`や[kit-observe属性](/kit-observe)でデータと紐付いている要素も同時に書き換えられます。

```javascript
App.data(_pid, 'foo', Math.random())
```
このコードは、プロセスID`_pid`の`foo`というデータをランダムな数値に書き換えます。

## 対応状況
- kit 0.2.0(kaf v1)以降
